{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'home/profile.css' %}"> <!-- Link to your CSS file -->
    
</head>
<body>
    <header>
        <h1>Your Profile</h1>
    </header>

    <main>
        {% if user.role == 'freelancer' %}
            <h3>Name: {{ freelancer2.name }}</h3>
            <p>City: {{ freelancer2.city }}</p>
            <p>Rating: {{ freelancer2.rating }}</p>
            <h2>Applied Projects</h2>
            <div class="project-container">
                {% for project in projects %}
                    {% if project.pk in applied_project_ids %}
                        <div class="project-card">
                            <h3>{{ project.category }}</h3>
                            <p>{{ project.description }}</p>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
            <h2>Offers</h2>
            <div class="project-container">
                {% for project in projects %}
                    {% if project.pk in offered_projects %}
                        <div class="project-card">
                            <h3>{{ project.category }}</h3>
                            <p>{{ project.description }}</p>
                            <a href="{% url 'accept' project.id %}">Accept</a>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
            <h2>Assigned</h2>
            <div class="project-container">
                {% for project in total_assigned_projects %}
                    {% if project.freelancer_id == freelancer2.id %}
                        {% if project.Inprogress == True %}
                            <div class="project-card">
                                <h3>{{ project.category }}</h3>
                                <p>{{ project.description }}</p>
                            </div>
                        {% endif %}
                    {% endif %}
                {% endfor %}
            </div>
            <h2>Completed</h2>
            <div class="project-container">
                {% for project in total_assigned_projects %}
                    {% if project.freelancer_id == freelancer2.id %}
                        {% if project.Inprogress == False %}
                            <div class="project-card">
                                <h3>{{ project.category }}</h3>
                                <p>{{ project.description }}</p>
                            </div>
                        {% endif %}
                    {% endif %}
                {% endfor %}
            </div>
        {% elif user.role == 'business' %}
            <h3>{{ business.company_name }}</h3>
            <h3>{{ business.businesstype }}</h3>
            <p>Headquarters: {{ business.headquarters }}</p>
            <p>Rating: {{ business.rating }}</p>
            {% if realuser == business.user_name %}
                <a href="{% url 'setup_corporate' %}" class="btn">Edit Profile</a>
            {% endif %}
            <h1>Unoffered Projects</h1>
            {% for project in projects %}
                <div class="project-card">
                    {% if project.id not in offered_projects %}
                        <h3>{{ project.category }}</h3>
                        <p>{{ project.description }}</p>
                        <a href="{% url 'myproject' project.id %}">Details</a>
                    {% endif %}
                </div>
            {% endfor %}
            <h1>Offered Projects</h1>
            {% for project in projects %}
                <div class="project-card">
                    {% if project.id in offered_projects %}
                        <h3>{{ project.category }}</h3>
                        <p>{{ project.description }}</p>
                        <a href="{% url 'myproject' project.id %}">Details</a>
                    {% endif %}
                </div>
            {% endfor %}
            <h2>Assigned</h2>
            <div class="project-container">
                {% for project in total_assigned_projects %}
                    {% if project.business_id == business.id %}
                        {% if project.Inprogress == True %}
                            <div class="project-card">
                                <h3>{{ project.category }}</h3>
                                <p>{{ project.description }}</p>
                                <button class="apply-button" data-project-id="{{ project.pk }}">Apply Now</button>
                            </div>
                        {% endif %}
                    {% endif %}
                {% endfor %}
            </div>
            <h2>Completed Projects</h2>
            <div class="project-container">
                {% for project in total_assigned_projects %}
                    {% if project.business_id == business.id %}
                        {% if project.Inprogress == False %}
                            <div class="project-card">
                                <h3>{{ project.category }}</h3>
                                <p>{{ project.description }}</p>
                            </div>
                        {% endif %}
                    {% endif %}
                {% endfor %}
            </div>
        {% endif %}
    </main>

    <footer>
        <p>&copy; 2024 Freelancer Connect</p>
    </footer>





